<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>个人前端技术博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="个人前端技术博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="个人前端技术博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="个人前端技术博客">
  
    <link rel="alternate" href="/atom.xml" title="个人前端技术博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">个人前端技术博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-jQuery_ajax" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/jQuery_ajax/" class="article-date">
  <time datetime="2017-02-28T06:50:22.428Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/jQuery_ajax/">$.ajax()方法详解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ajax-方法详解"><a href="#ajax-方法详解" class="headerlink" title="$.ajax()方法详解"></a>$.ajax()方法详解</h2><p>   今天分享一道面试题哈，$.ajax(),$.post(),$.get()这三个函数的区别和联系？答案并不是今天的重点，我们今天的重点是$.ajax()方法详解。jquery中的ajax方法参数总是记不住，这里记录一下。</p>
<h4 id="1-url"><a href="#1-url" class="headerlink" title="1.url:"></a>1.url:</h4><blockquote>
<p>要求为String类型的参数，（默认为当前页地址）发送请求的地址。</p>
</blockquote>
<h4 id="2-type"><a href="#2-type" class="headerlink" title="2.type:"></a>2.type:</h4><blockquote>
<p>要求为String类型的参数，请求方式（post或get）默认为get。注意其他http请求方法，例如put和delete也可以使用，但仅部分浏览器支持。</p>
</blockquote>
<h4 id="3-timeout"><a href="#3-timeout" class="headerlink" title="3.timeout:"></a>3.timeout:</h4><blockquote>
<p>要求为Number类型的参数，设置请求超时时间（毫秒）。此设置将覆盖$.ajaxSetup()方法的全局设置。</p>
</blockquote>
<h4 id="4-async"><a href="#4-async" class="headerlink" title="4.async:"></a>4.async:</h4><blockquote>
<p>要求为Boolean类型的参数，默认设置为true，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为false。注意，同步请求将锁住浏览器，用户其他操作必须等待请求完成才可以执行。</p>
</blockquote>
<h4 id="5-cache"><a href="#5-cache" class="headerlink" title="5.cache:"></a>5.cache:</h4><blockquote>
<p>要求为Boolean类型的参数，默认为true（当dataType为script时，默认为false），设置为false将不会从浏览器缓存中加载请求信息。</p>
</blockquote>
<h4 id="6-data"><a href="#6-data" class="headerlink" title="6.data:"></a>6.data:</h4><blockquote>
<p>要求为Object或String类型的参数，发送到服务器的数据。<br>如果已经不是字符串，将自动转换为字符串格式。<br>get请求中将附加在url后。防止这种自动转换，可以查看　　processData选项。对象必须为key/value格式，例如{foo1:”bar1”,foo2:”bar2”}转换为&amp;foo1=bar1&amp;foo2=bar2。如果是数组，JQuery将自动为不同值对应同一个名称。例如{foo:[“bar1”,”bar2”]}转换为&amp;foo=bar1&amp;foo=bar2。</p>
</blockquote>
<h4 id="7-dataType"><a href="#7-dataType" class="headerlink" title="7.dataType:"></a>7.dataType:</h4><blockquote>
<p>要求为String类型的参数，预期服务器返回的数据类型。如果不指定，JQuery将自动根据http包mime信息返回responseXML或responseText，并作为回调函数参数传递。可用的类型如下：</p>
<ul>
<li>xml：返回XML文档，可用JQuery处理。</li>
<li>html：返回纯文本HTML信息；包含的script标签会在插入DOM时执行。</li>
<li>script：返回纯文本JavaScript代码。不会自动缓存结果。除非设置了cache参数。注意在远程请求时（不在同一个域下），所有post请求都将转为get请求。</li>
<li>json：返回JSON数据。</li>
<li>jsonp：JSONP格式。使用SONP形式调用函数时，例如myurl?callback=?，JQuery将自动替换后一个“?”为正确的函数名，以执行回调函数。</li>
<li>text：返回纯文本字符串。</li>
</ul>
</blockquote>
<h4 id="8-beforeSend："><a href="#8-beforeSend：" class="headerlink" title="8.beforeSend："></a>8.beforeSend：</h4><blockquote>
<p>要求为Function类型的参数，发送请求前可以修改XMLHttpRequest对象的函数，例如添加自定义HTTP头。在beforeSend中如果返回false可以取消本次ajax请求。XMLHttpRequest对象是惟一的参数。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">              function(XMLHttpRequest)&#123;</div><div class="line">                      this;   //调用本次ajax请求时传递的options参数</div><div class="line">                   &#125;</div><div class="line">```    </div><div class="line">                </div><div class="line">####  9.complete：</div><div class="line"></div><div class="line">&gt; 要求为Function类型的参数，请求完成后调用的回调函数（请求成功或失败时均调用）。参数：XMLHttpRequest对象和一个描述成功请求类型的字符串。</div></pre></td></tr></table></figure>
<pre><code>function(XMLHttpRequest, textStatus){
   this;    //调用本次ajax请求时传递的options参数
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">#### 10.success：</div><div class="line"></div><div class="line">&gt;要求为Function类型的参数，请求成功后调用的回调函数，有两个参数。</div><div class="line">&gt; - (1)由服务器返回，并根据dataType参数进行处理后的数据。</div><div class="line">&gt; - (2)描述状态的字符串。</div></pre></td></tr></table></figure>
<pre><code>function(data, textStatus){
      //data可能是xmlDoc、jsonObj、html、text等等
      this;  //调用本次ajax请求时传递的options参数
   }
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 11.error:</div><div class="line"></div><div class="line">&gt; 要求为Function类型的参数，请求失败时被调用的函数。该函数有3个参数，即XMLHttpRequest对象、错误信息、捕获的错误对象(可选)。ajax事件函数如下：</div></pre></td></tr></table></figure>
<pre><code>function(XMLHttpRequest, textStatus, errorThrown){
   //通常情况下textStatus和errorThrown只有其中一个包含信息
   this;   //调用本次ajax请求时传递的options参数
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">#### 12.contentType：</div><div class="line">&gt; 要求为String类型的参数，当发送信息至服务器时，内容编码类型默认为&quot;application/x-www-form-urlencoded&quot;。该默认值适合大多数应用场合。</div><div class="line">       </div><div class="line">#### 13.dataFilter：</div><div class="line"></div><div class="line">&gt; 要求为Function类型的参数，给Ajax返回的原始数据进行预处理的函数。提供data和type两个参数。data是Ajax返回的原始数据，type是调用jQuery.ajax时提供的dataType参数。函数返回的值将由jQuery进一步处理。</div></pre></td></tr></table></figure>
<pre><code>function(data, type){
    //返回处理后的数据
    return data;
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">#### 14.dataFilter：</div><div class="line">&gt; 要求为Function类型的参数，给Ajax返回的原始数据进行预处理的函数。提供data和type两个参数。data是Ajax返回的原始数据，type是调用jQuery.ajax时提供的dataType参数。函数返回的值将由jQuery进一步处理。</div></pre></td></tr></table></figure>
<pre><code>function(data, type){
    //返回处理后的数据
    return data;
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">#### 15.global：</div><div class="line"></div><div class="line">&gt; 要求为Boolean类型的参数，默认为true。</div><div class="line">&gt; 表示是否触发全局ajax事件。</div><div class="line">&gt; 设置为false将不会触发全局ajax事件，ajaxStart或ajaxStop可用于控制各种ajax事件。</div><div class="line">       </div><div class="line">#### 16.ifModified：</div><div class="line"></div><div class="line">&gt; 要求为Boolean类型的参数，默认为false。</div><div class="line">&gt; 仅在服务器数据改变时获取新数据。</div><div class="line">&gt; 服务器数据改变判断的依据是Last-Modified头信息。</div><div class="line">&gt; 默认值是false，即忽略头信息。</div><div class="line">       </div><div class="line">#### 17.jsonp：</div><div class="line"></div><div class="line">&gt; 要求为String类型的参数，在一个jsonp请求中重写回调函数的名字。该值用来替代在&quot;callback=?&quot;这种GET或POST请求中URL参数里的&quot;callback&quot;部分，例如&#123;jsonp:&apos;onJsonPLoad&apos;&#125;会导致将&quot;onJsonPLoad=?&quot;传给服务器。</div><div class="line">       </div><div class="line">#### 18.username：</div><div class="line">&gt; 要求为String类型的参数，用于响应HTTP访问认证请求的用户名。</div><div class="line">       </div><div class="line">#### 19.password：</div><div class="line"></div><div class="line">&gt; 要求为String类型的参数，用于响应HTTP访问认证请求的密码。</div><div class="line">       </div><div class="line">#### 20.processData：</div><div class="line"></div><div class="line">&gt; 要求为Boolean类型的参数，默认为true。默认情况下，发送的数据将被转换为对象（从技术角度来讲并非字符串）以配合默认内容类型&quot;application/x-www-form-urlencoded&quot;。如果要发送DOM树信息或者其他不希望转换的信息，请设置为false。</div><div class="line">       </div><div class="line">#### 21.scriptCharset：</div><div class="line"></div><div class="line">&gt; 要求为String类型的参数，只有当请求时dataType为&quot;jsonp&quot;或者&quot;script&quot;，并且type是GET时才会用于强制修改字符集(charset)。通常在本地和远程的内容编码不同时使用。</div><div class="line"></div><div class="line">#### 案例代码：</div></pre></td></tr></table></figure>
<p>$(function(){<br>    $(‘#send’).click(function(){<br>         $.ajax({<br>             type: “GET”,<br>             url: “test.json”,<br>             data: {username:$(“#username”).val(), content:$(“#content”).val()},<br>             dataType: “json”,<br>             success: function(data){<br>                         $(‘#resText’).empty();   //清空resText里面的所有内容<br>                         var html = ‘’;<br>                         $.each(data, function(commentIndex, comment){<br>                               html += ‘<div class="comment"><h6>‘ + comment[‘username’]</h6></div></p>
<pre><code>                                     + &apos;:&lt;/h6&gt;&lt;p class=&quot;para&quot;&apos; + comment[&apos;content&apos;]
                                     + &apos;&lt;/p&gt;&lt;/div&gt;&apos;;
                     });
                     $(&apos;#resText&apos;).html(html);
                  }
     });
});
</code></pre><p>});</p>
<p>```</p>
<h2 id="AJAX请求-post方法的使用"><a href="#AJAX请求-post方法的使用" class="headerlink" title="AJAX请求 $.post方法的使用"></a>AJAX请求 $.post方法的使用</h2><p>使用jQuery的$.post方法可以以POST形式向服务器发起AJAX请求。$.post方法是jQuery的实用工具方法。</p>
<h4 id="post方法语法"><a href="#post方法语法" class="headerlink" title="$.post方法语法"></a>$.post方法语法</h4><pre><code>$.post(url,parameters,callback)
</code></pre><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><blockquote>
<ul>
<li><p>url: (字符串)服务器端资源地址。</p>
</li>
<li><p>parameter： (对象)需要传递到服务器端的参数。 参数形式为“键/值”。   </p>
</li>
<li><p>callback:  (函数)在请求完成时被调用。该函数参数依次为响应体和状态。</p>
</li>
<li><p>返回值: XHR实例  </p>
</li>
</ul>
</blockquote>
<h2 id="AJAX请求-get方法的使用"><a href="#AJAX请求-get方法的使用" class="headerlink" title="AJAX请求 $.get方法的使用"></a>AJAX请求 $.get方法的使用</h2><p> 使用jQuery的$.get方法可以以GET方式发起AJAX请求。$.get方法是jQuery的实用工具函数。</p>
<h4 id="get方法语法"><a href="#get方法语法" class="headerlink" title="get方法语法"></a>get方法语法</h4><p> $.get(url,parameters,callback)</p>
<h4 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h4><blockquote>
<ul>
<li>url: (字符串)服务器端资源地址。</li>
<li>parameter: (对象)需要传递到服务器端的参数。其形式为“键/值”。它会查询的字符串追加到url。</li>
<li>callback: (函数)在请求完成时被调用。该函数参数依次为响应体和状态。</li>
<li>返回值: XHR实例 </li>
</ul>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/28/jQuery_ajax/" data-id="cizp6ks100002gwuofo599wqv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/vue/" class="article-date">
  <time datetime="2017-02-28T06:46:48.564Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/vue/">轻型MVVM框架Vue.js</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Vue.js 是一个用于创建 web 交互界面的库。</p>
<p>从技术角度讲，Vue.js 专注于 MVVM 模型的 ViewModel 层。它通过双向数据绑定把 View 层和 Model 层连接了起来。实际的 DOM 封装和输出格式都被抽象为了 Directives 和 Filters。</p>
<p>从哲学角度讲，Vue 希望通过一个尽量简单的 API 来提供响应式的数据绑定和可组合、复用的视图组件。它不是一个大而全的框架——它只是一个简单灵活的视图层。您可以独立使用它快速开发原型、也可以混合别的库做更多的事情。它同时和诸如 Firebase 这一类的 BaaS 服务有着天然的契合度。</p>
<p>Vue.js 的 API 设计深受 AngularJS、KnockoutJS、Ractive.js 和 Rivets.js 的影响。尽管有不少相似之处，但我们相信 Vue.js 能够在简约和功能之间的微妙平衡中体现出其独有的价值。</p>
<p>即便您已经熟悉了一些这类的库或框架，我们还是推荐您继续阅读接下来的概览，因为您对它们的认识也许和它们在 Vue.js 语境下的定义不尽相同。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul>
<li><p>CDN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;https://raw.githubusercontent.com/yyx990803/vue/0.12.16/dist/vue.min.js&quot;&gt;&lt;script&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>npm</p>
</li>
<li>bower</li>
</ul>
<h2 id="概念综述"><a href="#概念综述" class="headerlink" title="概念综述"></a>概念综述</h2><h3 id="ViewModel"><a href="#ViewModel" class="headerlink" title="ViewModel"></a>ViewModel</h3><p>   一个同步 Model 和 View 的对象。在 Vue.js 中，每个 Vue 实例都是一个 ViewModel。它们是通过构造函数 Vue 或其子类被创建出来的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var vm = new Vue(&#123; /* options */ &#125;)</div></pre></td></tr></table></figure>
<p> 这是您作为一个开发者在使用 Vue.js 时主要打交道的对象。更多的细节请移步至 Vue 构造函数。</p>
<h3 id="视图-View"><a href="#视图-View" class="headerlink" title="视图 View"></a>视图 View</h3><p> 被 Vue 实例管理的 DOM 节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vm.$el // The View</div></pre></td></tr></table></figure>
<p> Vue.js 使用基于 DOM 的模板。每个 Vue 实例都关联着一个相应的 DOM 元素。当一个 Vue 实例被创建时，它会递归遍历根元素的所有子结点，同时完成必要的数据绑定。当这个视图被编译之后，它就会自动响应数据的变化。</p>
<p> 在使用 Vue.js 时，除了自定义指令 (稍后会有解释)，您几乎不必直接接触 DOM。当数据发生变化时，视图将会自动触发更新。这些更新的粒度精确到一个文字节点。同时为了更好的性能，这些更新是批量异步执行的。</p>
<h3 id="模型-Model"><a href="#模型-Model" class="headerlink" title="模型 Model"></a>模型 Model</h3><p> 一个轻微改动过的原生 JavaScript 对象。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vm.$data // The Model</div></pre></td></tr></table></figure></p>
<p> Vue.js 中的模型就是普通的 JavaScript 对象 —— 也可以称为数据对象。一旦某对象被作为 Vue 实例中的数据，它就成为一个 “响应式” 的对象了。你可以操作它们的属性，同时正在观察它的 Vue 实例也会收到提示。Vue.js 把数据对象的属性都转换成了 ES5 中的 getter/setters，以此达到无缝的数据观察效果：无需脏值检查，也不需要刻意给 Vue 任何更新视图的信号。每当数据变化时，视图都会在下一帧自动更新。</p>
<p> Vue 实例代理了它们观察到的数据对象的所有属性。所以一旦一个对象 { a: 1 } 被观察，那么 vm.$data.a 和 vm.a 将会返回相同的值，而设置 vm.a = 2 则也会修改 vm.$data。</p>
<p> 数据对象是被就地转化的，所以根据引用修改数据和修改 vm.$data 具有相同的效果。这也意味着多个 Vue 实例可以观察同一份数据。在较大型的应用程序中，我们也推荐将 Vue 实例作为纯粹的视图看待，同时把数据处理逻辑放在更独立的外部数据层。</p>
<p> 值得提醒的是，一旦数据被观察，Vue.js 就不会再侦测到新加入或删除的属性了。作为弥补，我们会为被观察的对象增加 $add , $set和 $delete 方法。</p>
<p> 下面是对 Vue.js 数据观测机制实现的高层概览：</p>
<p> 数据观察</p>
<h3 id="指令-Directives"><a href="#指令-Directives" class="headerlink" title="指令 Directives"></a>指令 Directives</h3><p> 带特殊前缀的 HTML 特性，可以让 Vue.js 对一个 DOM 元素做各种处理。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-text=&quot;message&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
<p> 这里的 div 元素有一个 v-text 指令，其值为 message。Vue.js 会让该 div 的文本内容与 Vue 实例中的 message 属性值保持一致。</p>
<p> Directives 可以封装任何 DOM 操作。比如 v-attr 会操作一个元素的特性；v-repeat 会基于数组来复制一个元素；v-on 会绑定事件等。稍后会有更多的介绍。</p>
<p> Mustache 风格绑定</p>
<p> 你也可以使用 mustache 风格的绑定，不管在文本中还是在属性中。它们在底层会被转换成 v-text 和 v-attr 的指令。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;person-&#123;&#123;id&#125;&#125;&quot;&gt;Hello &#123;&#123;name&#125;&#125;!&lt;/div&gt;</div></pre></td></tr></table></figure>
<p> 这很方便，不过有一些注意事项：</p>
<blockquote>
<p>一个  的 src 属性在赋值时会产生一个 HTTP 请求，所以当模板在第一次被解析时会产生一个 404 请求。这种情况下更适合用 v-attr。</p>
<p>Internet Explorer 在解析 HTML 时会移除非法的内联 style 属性，所以如果你想支持 IE，请在绑定内联 CSS 的时候始终使用 v-style。</p>
<p>你可以使用三对花括号来回避 HTML 代码，而这种写法会在底层转换为 v-html：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;&#123; safeHTMLString &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>不过这种用法会留下 XSS 攻击的隐患，所以建议只对绝对信任的数据来源使用三对花括号的写法，或者先通过自定义的过滤器 (filter) 对不可信任的 HTML 进行过滤。</p>
<p> 最后，你可以在你的 mustache 绑定里加入 * 来注明这是一个一次性撰写的数据，这样的话它就不会响应后续的数据变化：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;* onlyOnce &#125;&#125;</div></pre></td></tr></table></figure>
<ul>
<li>过滤器 Filters<br>过滤器是用于在更新视图之前处理原始值的函数。它们通过一个“管道”在指令或绑定中进行处理：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&#123;&#123;message | capitalize&#125;&#125;&lt;/div&gt;</div></pre></td></tr></table></figure>
<p> 这样在 div 的文本内容被更新之前，message 的值会先传给 capitalizie 函数处理。更多内容可移步至 深入了解过滤器 (Filters)。</p>
<h3 id="组件-Components"><a href="#组件-Components" class="headerlink" title="组件 Components"></a>组件 Components</h3><p> Component Tree</p>
<p> 在 Vue.js，每个组件都是一个简单的 Vue 实例。一个树形嵌套的各种组件就代表了你的应用程序的各种接口。通过 Vue.extend 返回的自定义构造函数可以把这些组件实例化，不过更推荐的声明式的用法是通过 Vue.component(id, constructor) 注册这些组件。一旦组件被注册，它们就可以在 Vue 实例的模板中以自定义元素形式使用了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;my-component&gt;</div><div class="line">  &lt;!-- internals handled by my-component --&gt;</div><div class="line">&lt;/my-component&gt;</div></pre></td></tr></table></figure></p>
<p> 这个简单的机制使得我们可以以类似 Web Components 的声明形式对 Vue 组件进行复用和组合，同时无需最新版的浏览器或笨重的 polyfills。通过将一个应用程序拆分成简单的组件，代码库可以被尽可能的解耦，同时更易于维护。更多关于组件的内容，请移步至 组件系统。</p>
<p> 简单示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;demo&quot;&gt;</div><div class="line">  &lt;h1&gt;&#123;&#123;title | uppercase&#125;&#125;&lt;/h1&gt;</div><div class="line">  &lt;ul&gt;</div><div class="line">    &lt;li</div><div class="line">      v-repeat=&quot;todos&quot;</div><div class="line">      v-on=&quot;click: done = !done&quot;</div><div class="line">      class=&quot;&#123;&#123;done ? &apos;done&apos; : &apos;&apos;&#125;&#125;&quot;&gt;</div><div class="line">      &#123;&#123;content&#125;&#125;</div><div class="line">    &lt;/li&gt;</div><div class="line">  &lt;/ul&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">var demo = new Vue(&#123;</div><div class="line">  el: &apos;#demo&apos;,</div><div class="line">  data: &#123;</div><div class="line">    title: &apos;todos&apos;,</div><div class="line">    todos: [</div><div class="line">      &#123;</div><div class="line">        done: true,</div><div class="line">        content: &apos;Learn JavaScript&apos;</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        done: false,</div><div class="line">        content: &apos;Learn Vue.js&apos;</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/28/vue/" data-id="cizp6ks160005gwuouvxoknpv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reg" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/reg/" class="article-date">
  <time datetime="2017-02-28T06:46:48.563Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/reg/">这20个正则表达式，让你少写1000行代码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>正则表达式——古老而又强大的文本处理工具。仅用一段简短的表达式语句，就能快速地实现一个复杂的业务逻辑。掌握正则表达式，让你的开发效率有一个质的飞跃。</p>
<p>正则表达式经常被用于字段或任意字符串的校验，比如下面这段校验基本日期格式的JavaScript代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var reg = /^(\\d&#123;1,4&#125;)(-|\\/)(\\d&#123;1,2&#125;)\\2(\\d&#123;1,2&#125;)$/; </div><div class="line">var r = fieldValue.match(reg);             </div><div class="line">if(r==null)alert(&apos;Date format error!&apos;);</div></pre></td></tr></table></figure>
<h4 id="1、校验密码强度"><a href="#1、校验密码强度" class="headerlink" title="1、校验密码强度"></a>1、校验密码强度</h4><p>密码的强度必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</div></pre></td></tr></table></figure>
<h4 id="2、校验中文"><a href="#2、校验中文" class="headerlink" title="2、校验中文"></a>2、校验中文</h4><p>字符串只能是中文</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[\\u4e00-\\u9fa5]&#123;0,&#125;$</div></pre></td></tr></table></figure>
<h4 id="3、由数字，26个英文字母或下划线组成的字符串"><a href="#3、由数字，26个英文字母或下划线组成的字符串" class="headerlink" title="3、由数字，26个英文字母或下划线组成的字符串"></a>3、由数字，26个英文字母或下划线组成的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\\w+$</div></pre></td></tr></table></figure>
<h4 id="4、校验E-Mail-地址"><a href="#4、校验E-Mail-地址" class="headerlink" title="4、校验E-Mail 地址"></a>4、校验E-Mail 地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[\\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?</div></pre></td></tr></table></figure>
<h4 id="5、校验身份证号码"><a href="#5、校验身份证号码" class="headerlink" title="5、校验身份证号码"></a>5、校验身份证号码</h4><p>15位：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[1-9]\\d&#123;7&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;$</div></pre></td></tr></table></figure></p>
<p>18位：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[1-9]\\d&#123;5&#125;[1-9]\\d&#123;3&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;([0-9]|X)$</div></pre></td></tr></table></figure>
<h4 id="6、校验日期"><a href="#6、校验日期" class="headerlink" title="6、校验日期"></a>6、校验日期</h4><p>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$</div></pre></td></tr></table></figure></p>
<h4 id="7、校验金额"><a href="#7、校验金额" class="headerlink" title="7、校验金额"></a>7、校验金额</h4><p>金额校验，精确到2位小数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[0-9]+(.[0-9]&#123;2&#125;)?$</div></pre></td></tr></table></figure></p>
<h4 id="8、校验手机号"><a href="#8、校验手机号" class="headerlink" title="8、校验手机号"></a>8、校验手机号</h4><p>下面是国内 13、15、18开头的手机号正则表达式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d&#123;8&#125;$</div></pre></td></tr></table></figure></p>
<h4 id="9、判断IE的版本"><a href="#9、判断IE的版本" class="headerlink" title="9、判断IE的版本"></a>9、判断IE的版本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$</div></pre></td></tr></table></figure>
<h4 id="10、校验IP-v4地址"><a href="#10、校验IP-v4地址" class="headerlink" title="10、校验IP-v4地址"></a>10、校验IP-v4地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b</div></pre></td></tr></table></figure>
<h4 id="11、校验IP-v6地址"><a href="#11、校验IP-v6地址" class="headerlink" title="11、校验IP-v6地址"></a>11、校验IP-v6地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(([0-9a-fA-F]&#123;1,4&#125;:)&#123;7,7&#125;[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;|[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)|:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;|:)|fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;|::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))</div></pre></td></tr></table></figure>
<h4 id="12、检查URL的前缀"><a href="#12、检查URL的前缀" class="headerlink" title="12、检查URL的前缀"></a>12、检查URL的前缀</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if (!s.match(/^[a-zA-Z]+:\\/\\//))&#123;</div><div class="line">   s = &apos;http://&apos; + s;&#125;</div></pre></td></tr></table></figure>
<h4 id="13、提取URL链接"><a href="#13、提取URL链接" class="headerlink" title="13、提取URL链接"></a>13、提取URL链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(f|ht)&#123;1&#125;(tp|tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?</div></pre></td></tr></table></figure>
<h4 id="14、文件路径及扩展名校验"><a href="#14、文件路径及扩展名校验" class="headerlink" title="14、文件路径及扩展名校验"></a>14、文件路径及扩展名校验</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?&quot;&lt;&gt;|]+\\.txt(l)?$</div></pre></td></tr></table></figure>
<h4 id="15、提取Color-Hex-Codes"><a href="#15、提取Color-Hex-Codes" class="headerlink" title="15、提取Color Hex  Codes"></a>15、提取Color Hex  Codes</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^#([A-Fa-f0-9]&#123;6&#125;|[A-Fa-f0-9]&#123;3&#125;)$</div></pre></td></tr></table></figure>
<h4 id="16、提取网页图片"><a href="#16、提取网页图片" class="headerlink" title="16、提取网页图片"></a>16、提取网页图片</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\&lt; *[img][^\\\\&gt;]*[src] *= *[\\&quot;\\&apos;]&#123;0,1&#125;([^\\&quot;\\&apos;\\ &gt;]*)</div></pre></td></tr></table></figure>
<h4 id="17、提取页面超链接"><a href="#17、提取页面超链接" class="headerlink" title="17、提取页面超链接"></a>17、提取页面超链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=&quot;https?:\\/\\/)((?!(?:(?:www\\.)?&apos;.implode(&apos;|(?:www\\.)?&apos;, $follow_list).&apos;))[^&quot;]+)&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;</div></pre></td></tr></table></figure>
<h4 id="18、查找CSS属性"><a href="#18、查找CSS属性" class="headerlink" title="18、查找CSS属性"></a>18、查找CSS属性</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\\s*[a-zA-Z\\-]+\\s*[:]&#123;1&#125;\\s[a-zA-Z0-9\\s.#]+[;]&#123;1&#125;</div></pre></td></tr></table></figure>
<h4 id="19、抽取注释"><a href="#19、抽取注释" class="headerlink" title="19、抽取注释"></a>19、抽取注释</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;!--(.*?)--&gt;</div></pre></td></tr></table></figure>
<h4 id="20、匹配HTML标签"><a href="#20、匹配HTML标签" class="headerlink" title="20、匹配HTML标签"></a>20、匹配HTML标签</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:&quot;.*?&quot;|&apos;.*?&apos;|[\\^&apos;&quot;&gt;\\s]+))?)+\\s*|\\s*)\\/?&gt;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/28/reg/" data-id="cizp6ks140004gwuoojjy19a1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-react" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/react/" class="article-date">
  <time datetime="2017-02-28T06:46:48.562Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/react/">React基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="React基础知识详解"><a href="#React基础知识详解" class="headerlink" title="React基础知识详解"></a>React基础知识详解</h2><p>  除组件化、虚拟DOM在复用以及性能上带来的一般好处外，React思想使得开发者之间更好的分工与合作，在配合上非常顺畅，规范的接口以及极强的约束，使得整个代码结构清晰，不同开发者的代码高度一致。<br>  提前明确几点：</p>
<ul>
<li>不支持 getInitialState 在设置组件初始的 state ，可在组件的 constructor 中通过 this.state 设置，也可直接作为 properties 定义</li>
<li>propTypes、defaultProps 作为 properties 定义，也可在组件外部通过键值对方式设置。</li>
<li>不支持 mixins，可以使用高阶组件写法，或者 decorator。</li>
</ul>
<h2 id="1-顶层API"><a href="#1-顶层API" class="headerlink" title="1.顶层API"></a>1.顶层API</h2><p>最简单的React组件及其渲染</p>
<blockquote>
<p>import React, { Component } from ‘react’;</p>
</blockquote>
<p>最简单的一个组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">class SimpleComponent extends Component &#123;</div><div class="line">  render()&#123;</div><div class="line">    return &lt;div&gt; here we go &lt;/div&gt;;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>// 我们可以看看React给我们提供了哪些顶层组件</p>
<p>console.log( React );<br>export default SimpleComponent;</p>
<blockquote>
<ul>
<li>react.js</li>
</ul>
<p>React.Children: Object<br>React.Component: ReactComponent(props, context, updater)<br>React.DOM: Object<br>React.PropTypes: Object<br>React.cloneElement: (element, props, children)<br>React.createClass: (spec)<br>React.createElement: (type, props, children)<br>React.createFactory: (type)<br>React.createMixin: (mixin)<br>React.isValidElement: (object)</p>
<ul>
<li>Component API</li>
</ul>
<p>this.context: Object<br>this.props: Object<br>this.refs: Object<br>this.state: Object<br>this.setState: Object</p>
<ul>
<li><p>react-dom.js<br>ReactDOM.findDOMNode: findDOMNode(componentOrElement)<br>ReactDOM.render: ()<br>ReactDOM.unmountComponentAtNode: (container)</p>
</li>
<li><p>react-dom-server.js</p>
</li>
</ul>
<p>ReactDOMServer.renderToString<br>ReactDOMServer.renderToStaticMarkup</p>
</blockquote>
<h2 id="2-jsx语法"><a href="#2-jsx语法" class="headerlink" title="2. jsx语法"></a>2. jsx语法</h2><p>类似 xml 的语法，用来描述组件树<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div classname=&quot;x&quot;&gt;</div><div class="line">  &lt;a href=&quot;#&quot;&gt;#&lt;/a&gt;</div><div class="line">    &lt;component x=&quot;y&quot;&gt;1&lt;/component&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>不用JSX，用React提供的API写的话<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">React.createElement(&apos;div&apos;,&#123;</div><div class="line">  className:&apos;x&apos;</div><div class="line">    &#125;,[</div><div class="line">    React.createElement(&apos;a&apos;,&#123;href:&apos;#&apos;&#125;,&apos;#&apos;),</div><div class="line">    React.createElement(Component,&#123;x:&apos;y&apos;&#125;,1);</div><div class="line">]);</div></pre></td></tr></table></figure></p>
<h3 id="2-1-注释、命名、根元素个数、JSX-嵌入变量"><a href="#2-1-注释、命名、根元素个数、JSX-嵌入变量" class="headerlink" title="2.1 注释、命名、根元素个数、JSX 嵌入变量"></a>2.1 注释、命名、根元素个数、JSX 嵌入变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">// 1. 组件命名遵循驼峰命名，首字母大写</div><div class="line">class ComponentDemo extends Component &#123;</div><div class="line">  render()&#123;</div><div class="line">    &#123;</div><div class="line">      /*</div><div class="line">      2. 这是代码注释</div><div class="line">      也可以是多行</div><div class="line">      */</div><div class="line">    &#125;</div><div class="line">    const name = this.props.name;</div><div class="line"></div><div class="line">    // 3. render 方法 return 回来的根元素只能是一个，超过会报错</div><div class="line">    // 4. &#123; &#125; 里面可以写JS代码</div><div class="line">    return (</div><div class="line">      &lt;div&gt;</div><div class="line">        hello, &#123;name ? name : &quot;我是默认的&quot;&#125;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default ComponentDemo;</div></pre></td></tr></table></figure>
<p>React只有一个限制， 组件只能渲染单个根节点。如果你想要返回多个节点，它们必须被包含在同一个节点里。</p>
<h3 id="2-2-styles"><a href="#2-2-styles" class="headerlink" title="2.2 styles"></a>2.2 styles</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">class StyleDemo extends Component &#123;</div><div class="line">  render()&#123;</div><div class="line">    // 5. 在JS文件里面给组件定义样式</div><div class="line">    var MyComponentStyles = &#123;</div><div class="line">        color: &apos;blue&apos;,</div><div class="line">        fontSize: &apos;28px&apos;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    return (</div><div class="line">      &lt;div style=&#123;MyComponentStyles&#125;&gt;</div><div class="line">          可以直接这样写行内样式</div><div class="line">      &lt;/div&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default StyleDemo;</div></pre></td></tr></table></figure>
<h3 id="2-3-JSX-SPREAD"><a href="#2-3-JSX-SPREAD" class="headerlink" title="2.3 JSX SPREAD"></a>2.3 JSX SPREAD</h3><p>可以用通过 {…obj} 来批量设置一个对象的键值对到组件的属性，注意顺序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">class SpreadDemo extends Component &#123;</div><div class="line">  componentWillMount()&#123;</div><div class="line">    console.log(this.props);</div><div class="line">  &#125;</div><div class="line">  render()&#123;</div><div class="line">    return &lt;h1&gt; &#123;this.props.name&#125; is a &#123;this.props.type&#125; &lt;/h1&gt;;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default SpreadDemo;</div></pre></td></tr></table></figure></p>
<h3 id="2-4-属性名不能和-js-关键字冲突"><a href="#2-4-属性名不能和-js-关键字冲突" class="headerlink" title="2.4 属性名不能和 js 关键字冲突"></a>2.4 属性名不能和 js 关键字冲突</h3><p>例如：className, readOnly, htmlfor</p>
<p>##3. 数据流：state props propType</p>
<h3 id="3-1-state-amp-amp-setState"><a href="#3-1-state-amp-amp-setState" class="headerlink" title="3.1 state &amp;&amp; setState"></a>3.1 state &amp;&amp; setState</h3><p>  用状态控制组件变化 可以把一个组件看做一个状态机, 每一次状态对应于组件的一个 ui</p>
<p>  组件内部的状态，可以使用 state<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">class StateDemo extends Component &#123;</div><div class="line"></div><div class="line">  state = &#123;</div><div class="line">    secondsElapsed: 0</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  tick()&#123;</div><div class="line">    this.setState(&#123; secondsElapsed: this.state.secondsElapsed + 1 &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  componentDidMount()&#123;</div><div class="line">    this.interval = setInterval( this.tick.bind(this), 1000 );</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  componentWillUnmount()&#123;</div><div class="line">    clearInterval(this.interval);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render()&#123;</div><div class="line">    return (</div><div class="line">      &lt;div&gt;目前已经计时：&#123;this.state.secondsElapsed&#125;秒&lt;/div&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default StateDemo;</div></pre></td></tr></table></figure></p>
<h3 id="3-2-props"><a href="#3-2-props" class="headerlink" title="3.2 props"></a>3.2 props</h3><p>  通过 this.props 可以获取传递给该组件的属性值，还可以通过定义 getDefaultProps 来指定默认属性值（这是ES5的写法，ES6定义组件的默认props可以直接写props）</p>
<p>  下面几个是props的常用API：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">this.props.children</div><div class="line">this.props.map</div><div class="line">this.props.filter</div><div class="line">props是调用组件的时候传递进去的数据，一般用于组件树数据传递</div><div class="line"></div><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">class PropsDemo extends Component &#123;</div><div class="line">  props = &#123;</div><div class="line">    title: &apos;这是默认的title属性值&apos;</div><div class="line">  &#125;</div><div class="line">  render()&#123;</div><div class="line">    console.log(this.props);</div><div class="line"></div><div class="line">    return &lt;b&gt;&#123;this.props.title&#125;&lt;/b&gt;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default PropsDemo;</div></pre></td></tr></table></figure></p>
<p>  // 组件调用方式<br>  // <propsdemo title="设置的标题"></propsdemo></p>
<h3 id="3-3-propTypes"><a href="#3-3-propTypes" class="headerlink" title="3.3 propTypes"></a>3.3 propTypes</h3><p>  通过指定 propTypes 可以校验props属性值的类型，校验可提升开发者体验，用于约定统一的接口规范。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component, PropTypes &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">class PropTypesDemo extends Component &#123;</div><div class="line"></div><div class="line">  static propTypes = &#123;</div><div class="line">    title: PropTypes.string.isRequired</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  props = &#123;</div><div class="line">      title: &apos;默认的title&apos;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render()&#123;</div><div class="line">    return &lt;b&gt;&#123;this.props.title&#125;&lt;/b&gt;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default PropTypesDemo;</div></pre></td></tr></table></figure></p>
<h2 id="4-调用API定义组件"><a href="#4-调用API定义组件" class="headerlink" title="4. 调用API定义组件"></a>4. 调用API定义组件</h2><pre><code>用 React.createClass或者React.Component 定义组件时允许传入相应的配置及组件API的使用，包括组件生命周期提供的一系列钩子函数。
</code></pre><h3 id="4-1-组件初始定义"><a href="#4-1-组件初始定义" class="headerlink" title="4.1 组件初始定义"></a>4.1 组件初始定义</h3><pre><code>getDefaultProps 得到默认属性对象，这个在ES6的时候不需要这样定义
propTypes 属性检验规则
mixins 组件间公用方法
</code></pre><h3 id="4-2-初次创建组件时调用"><a href="#4-2-初次创建组件时调用" class="headerlink" title="4.2 初次创建组件时调用"></a>4.2 初次创建组件时调用</h3><pre><code>getInitialState 得到初始状态对象
render 返回组件树. 必须设置
componentDidMount 渲染到 dom 树中是调用，只在客户端调用，可用于获取原生节点
</code></pre><h3 id="4-3-组件的属性值改变时调用"><a href="#4-3-组件的属性值改变时调用" class="headerlink" title="4.3 组件的属性值改变时调用"></a>4.3 组件的属性值改变时调用</h3><pre><code>componentWillReceiveProps 属性改变调用
shouldComponentUpdate 判断是否需要重新渲染
render 返回组件树. 必须设置
componentDidUpdate 渲染到 dom 树中是调用, 可用于获取原生节点
</code></pre><h3 id="4-4-销毁组件"><a href="#4-4-销毁组件" class="headerlink" title="4.4 销毁组件"></a>4.4 销毁组件</h3><pre><code>componentWillUnmount 组件从 dom 销毁前调用
</code></pre><h3 id="4-5-示例诠释组件全生命周期"><a href="#4-5-示例诠释组件全生命周期" class="headerlink" title="4.5 示例诠释组件全生命周期"></a>4.5 示例诠释组件全生命周期</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"> import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line">    class LifeCycle extends Component &#123;</div><div class="line"></div><div class="line">      Props = &#123;</div><div class="line">        value: &apos;开始渲染&apos;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      componentWillReceiveProps(nextProps)&#123;</div><div class="line">        console.log(&apos;componentWillReceiveProps&apos;);</div><div class="line">        this.setState(&#123;</div><div class="line">            value: nextProps.value</div><div class="line">        &#125;);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      shouldComponentUpdate(nextProps,nextState)&#123;</div><div class="line">        console.log(&apos;shouldComponentUpdate&apos;);</div><div class="line">        return true;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      componentWillUpdate(nextProps,nextState)&#123;</div><div class="line">        console.log(&apos;componentWillUpdate&apos;);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      componentWillMount()&#123;</div><div class="line">        console.log(&apos;componentWillMount&apos;);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      render() &#123;</div><div class="line">        console.log(&apos;render&apos;);</div><div class="line">        return &lt;span&gt;&#123;this.props.value&#125;&lt;/span&gt;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      componentDidMount() &#123;</div><div class="line">          console.log(&apos;componentDidMount&apos;);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      componentDidUpdate(prevProps,prevState) &#123;</div><div class="line">          console.log(&apos;componentDidUpdate&apos;);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      componentWillUnmount(prevProps,prevState) &#123;</div><div class="line">          console.log(&apos;componentWillUnmount&apos;);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    export default LifeCycle;</div><div class="line">```    </div><div class="line">    调用组件并销毁组件示例</div></pre></td></tr></table></figure>
<pre><code>import React, { Component } from &apos;react&apos;;
import LifeCycleDemo from &apos;./LifeCycleDemo&apos;;

class DestroyComponent extends Component {

  state = {
    value:1,
    destroyed:false
  }

  increase = () =&gt; {
    this.setState({
      value: this.state.value + 1
    });
  }

  destroy = () =&gt; {
    this.setState({
      destroyed: true
    });
  }

  render() {
    if(this.state.destroyed){
        return null;
    }

    return &lt;div&gt;
      &lt;p&gt;
        &lt;button onClick={this.increase}&gt;每次加1&lt;/button&gt;
        &lt;button onClick={this.destroy}&gt;干掉这两个按钮&lt;/button&gt;
      &lt;/p&gt;
      &lt;LifeCycleDemo value={this.state.value}/&gt;
    &lt;/div&gt;;
  }
}

export default DestroyComponent;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">###  4.6 回顾组件的渲染过程</div><div class="line">    # 创建-》渲染-》销毁</div></pre></td></tr></table></figure>
<pre><code>getDefaultProps()
getInitialState()
componentWillMount()
render()
componentDidMount()
componentWillUnmount()
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># 更新组件</div></pre></td></tr></table></figure>
<pre><code>componentWillReceiveProps()
shouldComponentUpdate()
componentWillUpdate()
render()
componentDidUpdate()
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">##  5. 使用ref对操作DOM</div><div class="line">    ReactDOM.findDOMNode</div></pre></td></tr></table></figure>
<pre><code>this.refs.xxx
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">获取DOM后可以方便结合现有非 react 类库的使用，通过 ref/refs 可以取得组件实例，进而取得原生节点，不过尽量通过 state/props 更新组件，不要使用该功能去更新组件的DOM。</div></pre></td></tr></table></figure>
<pre><code>import React, { Component } from &apos;react&apos;;
import ReactDOM, { findDOMNode } from &apos;react-dom&apos;;

class HandleDOMComponent extends Component {
  componentDidMount(){
    // 两种方式都可以获取到元素
    let ele = findDOMNode(this.refs.content);
    let ele2 = this.refs.content;

    // 如果想用 jquery，那么这是个好时机
    console.log( ele );
    console.log( ele.innerHTML );
    console.log( ele2.innerHTML );

  }

  render(){
    return (
      &lt;div&gt;
        &lt;h3&gt;来吧，一起操作DOM&lt;/h3&gt;
        &lt;div ref=&apos;content&apos;&gt;这是我DOM元素里面的内容&lt;/div&gt;
      &lt;/div&gt;
    );
  }
}

export default HandleDOMComponent;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">再看一个有趣的例子</div></pre></td></tr></table></figure>
<pre><code>import React, { Component } from &apos;react&apos;;
import { findDOMNode } from &apos;react-dom&apos;;
class Refs extends Component {
  state = {
    red: 0,
    green: 0,
    pink: 0
  }
  update = (e) =&gt; {
    this.setState({
      red: findDOMNode(this.refs.red).value,
      green: findDOMNode(this.refs.green).value,
      pink: findDOMNode(this.refs.pink).value
    })
  }
  render(){
    return (
      &lt;div&gt;
        &lt;Slider ref=&quot;red&quot; update={this.update} /&gt;
        {this.state.red}
        &lt;br /&gt;
        &lt;Slider ref=&quot;green&quot; update={this.update} /&gt;
        {this.state.green}
        &lt;br /&gt;
        &lt;Slider ref=&quot;pink&quot; update={this.update} /&gt;
        {this.state.pink}
      &lt;/div&gt;
    )
  }
}

class Slider extends Component {
  render(){
    return (
        &lt;input type=&quot;range&quot;
          min=&quot;0&quot;
          max=&quot;255&quot;
          onChange={this.props.update} /&gt;
    )
  }

}

export default Refs;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">## 6. 事件event</div><div class="line">    可以通过设置原生 dom 组件的 onEventType 属性来监听 dom 事件，例如 onClick, onMouseDown，在加强组件内聚性的同时，避免了传统 html 的全局变量污染</div></pre></td></tr></table></figure>
<pre><code>&apos;use strict&apos;;

import React, { Component } from &apos;react&apos;;

class HandleEvent extends Component {

  state = { liked: false }

  handleClick = (event) =&gt; {
    this.setState({liked: !this.state.liked});
  }

  render() {
    let text = this.state.liked ? &apos;喜欢&apos; : &apos;不喜欢&apos;;

    return (
      &lt;p onClick={this.handleClick}&gt;
        我 {text} 你.
      &lt;/p&gt;
    );
  }
}

export default HandleEvent;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    注意：事件回调函数参数为标准化的事件对象，可以不用考虑 IE</div><div class="line"></div><div class="line">    更多事件我们可以一起看这里</div><div class="line"></div><div class="line">## 7. 组件的组合</div><div class="line">### 7.1 受限组件 &amp;&amp; 非受限组件</div><div class="line">    受限组件示例：</div></pre></td></tr></table></figure>

render() {
  return &lt;input type=&quot;text&quot; value=&quot;Hello!&quot; /&gt;;
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">非受限组件示例：</div></pre></td></tr></table></figure>
<pre><code>render() {
  return &lt;input type=&quot;text&quot; /&gt;;
}
###  7.2 使用自定义的组件
&apos;use strict&apos;;

import React, { Component } from &apos;react&apos;;

class ComponentA extends Component {
  render() {
    return &lt;a href=&apos;#&apos;&gt;我是组件A&lt;br/&gt;&lt;/a&gt;
  }
}

class ComponentB extends Component {
  render() {
    return &lt;a href=&apos;#&apos;&gt;我是组件B&lt;/a&gt;
  }
}


class SelfCreateComponent extends Component {
  render() {
    return (
      &lt;i&gt;
        &lt;ComponentA /&gt;
        &lt;ComponentB /&gt;
      &lt;/i&gt;
    );
  }
}

export default SelfCreateComponent;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">###  7.3 组合 CHILDREN</div><div class="line">    自定义组件中可以通过 this.props.children 访问自定义组件的子节点</div></pre></td></tr></table></figure>
<pre><code>&apos;use strict&apos;;

import React, { Component } from &apos;react&apos;;

// 定义一个组件，通过React.Children 拿到组件里面的子元素
class ListComponent extends Component {
  render(){
    return &lt;ul&gt;
      {
        React.Children.map( this.props.children, function(c){
          return &lt;li&gt;{c}&lt;/li&gt;;
        })
      }
    &lt;/ul&gt;
  }
}

class UseChildrenComponent extends Component {
  render(){
    return (
      &lt;ListComponent&gt;
        &lt;a href=&quot;#&quot;&gt;Facebook&lt;/a&gt;
        &lt;a href=&quot;#&quot;&gt;Google&lt;/a&gt;
        &lt;a href=&quot;#&quot;&gt;SpaceX&lt;/a&gt;
      &lt;/ListComponent&gt;
    )
  }
}

export default UseChildrenComponent;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">## 8. form表单操作</div><div class="line">### 8.1 React表单组件和 html 的不同点</div><div class="line">    value/checked 属性设置后，用户输入无效</div><div class="line">    textarea 的值要设置在 value 属性</div><div class="line">    &lt;textarea name=&quot;description&quot; value=&quot;This is a description.&quot; /&gt;</div><div class="line">    select 的 value 属性可以是数组，不建议使用 option 的 selected 属性</div><div class="line">    &lt;select multiple=&#123;true&#125; value=&#123;[&apos;B&apos;, &apos;C&apos;]&#125;&gt;</div><div class="line">     &lt;option value=&quot;A&quot;&gt;Apple&lt;/option&gt;</div><div class="line">     &lt;option value=&quot;B&quot;&gt;Banana&lt;/option&gt;</div><div class="line">     &lt;option value=&quot;C&quot;&gt;Cranberry&lt;/option&gt;</div><div class="line">    &lt;/select&gt;</div><div class="line">    input/textarea 的 onChange 用户每次输入都会触发（即使不失去焦点）</div><div class="line">    radio/checkbox/option 点击后触发 onChange</div><div class="line">###  8.2 综合表达组件示例</div><div class="line">- 1.定义复选框组件Checkboxes</div><div class="line"></div><div class="line">```  </div><div class="line">  import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">    class Checkboxes extends Component &#123;</div><div class="line">      render()&#123;</div><div class="line">          return &lt;span&gt;</div><div class="line">              A</div><div class="line">              &lt;input onChange=&#123;this.props.handleCheck&#125;  name=&quot;goodCheckbox&quot; type=&quot;checkbox&quot; value=&quot;A&quot;/&gt;</div><div class="line">              B</div><div class="line">              &lt;input onChange=&#123;this.props.handleCheck&#125; name=&quot;goodCheckbox&quot; type=&quot;checkbox&quot; value=&quot;B&quot; /&gt;</div><div class="line">              C</div><div class="line">              &lt;input onChange=&#123;this.props.handleCheck&#125; name=&quot;goodCheckbox&quot; type=&quot;checkbox&quot; value=&quot;C&quot; /&gt;</div><div class="line">          &lt;/span&gt;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    export default Checkboxes;</div></pre></td></tr></table></figure>
<ul>
<li>2.定义单选框按钮组RadioButtons</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line">class RadioButtons extends Component &#123;</div><div class="line">  saySomething()&#123;</div><div class="line">      alert(&quot;我是一个很棒的单选框按钮组&quot;);</div><div class="line">  &#125;</div><div class="line">  render()&#123;</div><div class="line">      return &lt;span&gt;</div><div class="line">          A</div><div class="line">          &lt;input onChange=&#123;this.props.handleRadio&#125; name=&quot;goodRadio&quot; type=&quot;radio&quot; value=&quot;A&quot;/&gt;</div><div class="line">          B</div><div class="line">          &lt;input onChange=&#123;this.props.handleRadio&#125; name=&quot;goodRadio&quot; type=&quot;radio&quot; defaultChecked value=&quot;B&quot;/&gt;</div><div class="line">          C</div><div class="line">          &lt;input onChange=&#123;this.props.handleRadio&#125; name=&quot;goodRadio&quot; type=&quot;radio&quot; value=&quot;C&quot;/&gt;</div><div class="line">      &lt;/span&gt;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default RadioButtons;</div></pre></td></tr></table></figure>
<ul>
<li>3.FormApp组件集成两个组件并处理表单逻辑</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line">import Checkboxes from &apos;./Checkboxes&apos;;</div><div class="line">import RadioButtons from &apos;./RadioButtons&apos;;</div><div class="line">class FormApp extends Component &#123;</div><div class="line">  state = &#123;</div><div class="line">      inputValue: &apos;请输入...&apos;,</div><div class="line">      selectValue: &apos;A&apos;,</div><div class="line">      radioValue:&apos;B&apos;,</div><div class="line">      checkValues:[],</div><div class="line">      textareaValue:&apos;请输入...&apos;</div><div class="line">  &#125;</div><div class="line">  handleSubmit = (e) =&gt; &#123;</div><div class="line">      e.preventDefault();</div><div class="line">      let formData = &#123;</div><div class="line">          input: this.refs.goodInput.value,</div><div class="line">          select: this.refs.goodSelect.value,</div><div class="line">          textarea: this.refs.goodTextarea.value,</div><div class="line">          radio: this.state.radioValue,</div><div class="line">          check: this.state.checkValues,</div><div class="line">      &#125;</div><div class="line">      alert(&apos;您即将提交表单&apos;)</div><div class="line">      console.log(&apos;你提交的数据是:&apos;)</div><div class="line">      console.log(formData);</div><div class="line">  &#125;</div><div class="line">  handleRadio = (e) =&gt; &#123;</div><div class="line">      this.setState(&#123;</div><div class="line">          radioValue: e.target.value,</div><div class="line">      &#125;)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  handleCheck = (e) =&gt; &#123;</div><div class="line">      let checkValues = this.state.checkValues.slice();</div><div class="line">      let newVal = e.target.value;</div><div class="line">      let index = checkValues.indexOf(newVal);</div><div class="line"></div><div class="line">      if( index == -1 )&#123;</div><div class="line">          checkValues.push( newVal )</div><div class="line">      &#125;else&#123;</div><div class="line">          checkValues.splice(index,1);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      this.setState(&#123;</div><div class="line">          checkValues: checkValues,</div><div class="line">      &#125;)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render()&#123;</div><div class="line">      return &lt;form onSubmit=&#123;this.handleSubmit&#125;&gt;</div><div class="line">          &lt;h3&gt; 请输入内容 &lt;/h3&gt;</div><div class="line">          &lt;input ref=&quot;goodInput&quot; type=&quot;text&quot; defaultValue=&#123;this.state.inputValue &#125;/&gt;</div><div class="line">          &lt;br/&gt;</div><div class="line"></div><div class="line">          &lt;h3&gt; 请选择 &lt;/h3&gt;</div><div class="line">          &lt;select defaultValue=&#123; this.state.selectValue &#125; ref=&quot;goodSelect&quot;&gt;</div><div class="line">              &lt;option value=&quot;A&quot;&gt;A&lt;/option&gt;</div><div class="line">              &lt;option value=&quot;B&quot;&gt;B&lt;/option&gt;</div><div class="line">              &lt;option value=&quot;C&quot;&gt;C&lt;/option&gt;</div><div class="line">              &lt;option value=&quot;D&quot;&gt;D&lt;/option&gt;</div><div class="line">              &lt;option value=&quot;E&quot;&gt;E&lt;/option&gt;</div><div class="line">          &lt;/select&gt;</div><div class="line">          &lt;br/&gt;</div><div class="line"></div><div class="line">          &lt;h3&gt; 单项选择 &lt;/h3&gt;</div><div class="line">          &lt;RadioButtons ref=&quot;goodRadio&quot; handleRadio=&#123;this.handleRadio&#125; /&gt;</div><div class="line">          &lt;br/&gt;</div><div class="line"></div><div class="line">          &lt;h3&gt; 多选按钮 &lt;/h3&gt;</div><div class="line">          &lt;Checkboxes handleCheck=&#123;this.handleCheck&#125; /&gt;</div><div class="line">          &lt;br/&gt;</div><div class="line"></div><div class="line">          &lt;h3&gt; 反馈建议 &lt;/h3&gt;</div><div class="line">          &lt;textarea defaultValue=&#123;this.state.textareaValue&#125; ref=&quot;goodTextarea&quot;&gt;&lt;/textarea&gt;</div><div class="line">          &lt;br/&gt;</div><div class="line"></div><div class="line">          &lt;button type=&quot;submit&quot;&gt;确认提交&lt;/button&gt;</div><div class="line">      &lt;/form&gt;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default FormApp;</div></pre></td></tr></table></figure>
<h2 id="9-mixin共享"><a href="#9-mixin共享" class="headerlink" title="9. mixin共享"></a>9. mixin共享</h2><pre><code>mixin 是一个普通对象，通过 mixin 可以在不同组件间共享代码，使你的React程序变得更为可重用。
注意，ES6语法不支持mixin写法，而是可以通过decorator去实现代码共享，这里使用ES5语法做示例说明。
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;;</div><div class="line"></div><div class="line">var SetIntervalMixin = &#123;</div><div class="line">  componentWillMount: function() &#123;</div><div class="line">    this.intervals = [];</div><div class="line">  &#125;,</div><div class="line">  setInterval: function() &#123;</div><div class="line">    this.intervals.push(setInterval.apply(null, arguments));</div><div class="line">  &#125;,</div><div class="line">  componentWillUnmount: function() &#123;</div><div class="line">    this.intervals.forEach(clearInterval);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var MixinDemo = React.createClass(&#123;</div><div class="line">  // Use the mixin</div><div class="line">  mixins: [SetIntervalMixin],</div><div class="line">  getInitialState: function() &#123;</div><div class="line">    return &#123;seconds: 0&#125;;</div><div class="line">  &#125;,</div><div class="line">  componentDidMount: function() &#123;</div><div class="line">    // Call a method on the mixin</div><div class="line">    this.setInterval(this.tick, 1000);</div><div class="line">  &#125;,</div><div class="line">  tick: function() &#123;</div><div class="line">    this.setState(&#123;seconds: this.state.seconds + 1&#125;);</div><div class="line">  &#125;,</div><div class="line">  render: function() &#123;</div><div class="line">    return (</div><div class="line">      &lt;p&gt;</div><div class="line">        计时器已经运行了： &#123;this.state.seconds&#125; 秒.</div><div class="line">      &lt;/p&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<pre><code>export default MixinDemo;
那么，接下来，我们用high-order component的方式来实现mixin：
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">let Mixin = MixinComponent =&gt; class extends Component &#123;</div><div class="line">  constructor() &#123;</div><div class="line">    super();</div><div class="line">    this.state = &#123; val: 0 &#125;;</div><div class="line">    this.update = this.update.bind(this);</div><div class="line">  &#125;</div><div class="line">  update()&#123;</div><div class="line">    this.setState(&#123;val: this.state.val + 1&#125;);</div><div class="line">  &#125;</div><div class="line">  componentWillMount()&#123;</div><div class="line">    console.log(&apos;will mount...&apos;)</div><div class="line">  &#125;</div><div class="line">  render()&#123;</div><div class="line">    return (</div><div class="line">      &lt;MixinComponent</div><div class="line">        update=&#123;this.update&#125;</div><div class="line">        &#123;...this.state&#125;</div><div class="line">        &#123;...this.props&#125;</div><div class="line">       /&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">  componentDidMount()&#123;</div><div class="line">    console.log(&apos;mounted...&apos;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const Button = (props) =&gt; &#123;</div><div class="line">  return (</div><div class="line">    &lt;button onClick=&#123;props.update&#125;&gt;</div><div class="line">      &#123;props.txt&#125; - &#123;props.val&#125;</div><div class="line">    &lt;/button&gt;</div><div class="line">  )</div><div class="line">&#125;</div><div class="line"></div><div class="line">const Label = (props) =&gt; &#123;</div><div class="line">  return (</div><div class="line">    &lt;label onMouseMove=&#123;props.update&#125;&gt;</div><div class="line">      &#123;props.txt&#125; - &#123;props.val&#125;</div><div class="line">    &lt;/label&gt;</div><div class="line">  )</div><div class="line">&#125;</div><div class="line"></div><div class="line">let ButtonMixed = Mixin(Button);</div><div class="line">let LabelMixed = Mixin(Label);</div><div class="line"></div><div class="line">class Mixins extends Component &#123;</div><div class="line">  render()&#123;</div><div class="line">    return (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;ButtonMixed txt=&quot;button&quot; /&gt;</div><div class="line">        &lt;LabelMixed txt=&quot;label&quot; /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default Mixins;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/28/react/" data-id="cizp6ks120003gwuohskh6n6w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-first" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/first/" class="article-date">
  <time datetime="2017-02-28T06:46:48.559Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/first/">Hexo博客搭建教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Hexo博客搭建"><a href="#Hexo博客搭建" class="headerlink" title="Hexo博客搭建"></a>Hexo博客搭建</h1><p>   本文致力于提供一份足够简单，长期维护的基于Github Pages的Hexo博客搭建教程，希望能有所帮助。当然，我个人的力量是有限的，因此也希望使用Hexo的大家也能一起行动起来，通过提交PR，发布issues或者在下方评论区评论等形式参与到本文档的编辑中来。浏览时，使用Ctrl+F搜索关键词。</p>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><ul>
<li><p>在自己认为合适的地方创建一个文件夹，然后在文件夹空白处按住Shift+鼠标右键，然后点击在此处打开命令行窗口。（同样要记住啦，下文中会使用在当前目录打开命令行来代指上述的操作）<br>在命令行中输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-cli -g</div></pre></td></tr></table></figure>
</li>
<li><p>可能你会看到一个WARN，但是不用担心，这不会影响你的正常使用。<br> 然后输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo --save</div></pre></td></tr></table></figure>
</li>
<li><p>然后你会看到命令行窗口刷了一大堆白字，下面我们来看一看Hexo是不是已经安装好了</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo -v</div></pre></td></tr></table></figure>
<p>如果你看到了文字，则说明已经安装成功了。</p>
<h3 id="初始化Hexo"><a href="#初始化Hexo" class="headerlink" title="初始化Hexo"></a>初始化Hexo</h3><ul>
<li>接着上面的操作，输入<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo init</div><div class="line">npm install</div></pre></td></tr></table></figure>
</li>
</ul>
<p>之后npm将会自动安装你需要的组件，只需要等待npm操作即可。</p>
<h3 id="初体验Hexo"><a href="#初体验Hexo" class="headerlink" title="初体验Hexo"></a>初体验Hexo</h3><ul>
<li>继续操作，同样是在命令行中，输入<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo s</div></pre></td></tr></table></figure>
</li>
</ul>
<p>然后会提示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</div></pre></td></tr></table></figure></p>
<p>到目前为止，Hexo在本地的配置已经全都结束了。</p>
<h3 id="如果第二次发布"><a href="#如果第二次发布" class="headerlink" title="如果第二次发布"></a>如果第二次发布</h3><p> 在命令行输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo deploy</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/28/first/" data-id="cizp6ks0x0001gwuor05ihheq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-each" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/each/" class="article-date">
  <time datetime="2017-02-28T04:33:34.648Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/each/">jQuery 遍历函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>jQuery 遍历函数包括了用于筛选、查找和串联元素的方法。</p>
<h4 id="函数-："><a href="#函数-：" class="headerlink" title="函数 ："></a>函数 ：</h4><ul>
<li>.add()： 将元素添加到匹配元素的集合中。  | </li>
<li>.andSelf()    把堆栈中之前的元素集添加到当前集合中。</li>
<li>.children()    获得匹配元素集合中每个元素的所有子元素。</li>
<li>.closest()    从元素本身开始，逐级向上级元素匹配，并返回最先匹配的祖先元素。</li>
<li>.contents()    获得匹配元素集合中每个元素的子元素，包括文本和注释节点。</li>
<li>.each()    对 jQuery 对象进行迭代，为每个匹配元素执行函数。</li>
<li>.end()    结束当前链中最近的一次筛选操作，并将匹配元素集合返回到前一次的状态。</li>
<li>.eq()    将匹配元素集合缩减为位于指定索引的新元素。</li>
<li>.filter()    将匹配元素集合缩减为匹配选择器或匹配函数返回值的新元素。</li>
<li>.find()    获得当前匹配元素集合中每个元素的后代，由选择器进行筛选。</li>
<li>.first()    将匹配元素集合缩减为集合中的第一个元素。</li>
<li>.has()    将匹配元素集合缩减为包含特定元素的后代的集合。</li>
<li>.is()    根据选择器检查当前匹配元素集合，如果存在至少一个匹配元素，则返回 true。</li>
<li>.last()    将匹配元素集合缩减为集合中的最后一个元素。</li>
<li>.map()    把当前匹配集合中的每个元素传递给函数，产生包含返回值的新 jQuery 对象。</li>
<li>.next()    获得匹配元素集合中每个元素紧邻的同辈元素。</li>
<li>.nextAll()    获得匹配元素集合中每个元素之后的所有同辈元素，由选择器进行筛选（可选）。</li>
<li>.nextUntil()    获得每个元素之后所有的同辈元素，直到遇到匹配选择器的元素为止。</li>
<li>.not()    从匹配元素集合中删除元素。</li>
<li>.offsetParent()    获得用于定位的第一个父元素。</li>
<li>.parent()    获得当前匹配元素集合中每个元素的父元素，由选择器筛选（可选）。</li>
<li>.parents()    获得当前匹配元素集合中每个元素的祖先元素，由选择器筛选（可选）。</li>
<li>.parentsUntil()    获得当前匹配元素集合中每个元素的祖先元素，直到遇到匹配选择器的元素为止。</li>
<li>.prev()    获得匹配元素集合中每个元素紧邻的前一个同辈元素，由选择器筛选（可选）。</li>
<li>.prevAll()    获得匹配元素集合中每个元素之前的所有同辈元素，由选择器进行筛选（可选）。</li>
<li>.prevUntil()    获得每个元素之前所有的同辈元素，直到遇到匹配选择器的元素为止。</li>
<li>.siblings()    获得匹配元素集合中所有元素的同辈元素，由选择器筛选（可选）。</li>
<li>.slice()    将匹配元素集合缩减为指定范围的子集。</li>
</ul>
<h3 id="each的用法"><a href="#each的用法" class="headerlink" title="each的用法"></a>each的用法</h3><h4 id="1-数组中的each"><a href="#1-数组中的each" class="headerlink" title="1.数组中的each"></a>1.数组中的each</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [ &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;];     </div><div class="line"> $.each(arr, function()&#123;     </div><div class="line">    alert(this);     </div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
<p>上面这个each输出的结果分别为：one,two,three,four<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var arr1 = [[1, 4, 3], [4, 6, 6], [7, 20, 9]];     </div><div class="line">$.each(arr1, function(i, item)&#123;     </div><div class="line">   alert(item[0]);     </div><div class="line">&#125;); </div><div class="line">```    </div><div class="line">其实arr1为一个二维数组，item相当于取每一个一维数组，   </div><div class="line">item[0]相对于取每一个一维数组里的第一个值   </div><div class="line">所以上面这个each输出分别为：1   4   7</div></pre></td></tr></table></figure></p>
<p>var obj = { one:1, two:2, three:3, four:4};<br>$.each(obj, function(i) {<br>    alert(obj[i]);<br>});<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">这个each就有更厉害了，能循环每一个属性     </div><div class="line">输出结果为：1   2  3  4 </div><div class="line">#### 2.遍历Dom元素中</div></pre></td></tr></table></figure></p>
<p><html></html></p>
<p><head></head></p>
<p><script type="text/javascript" src="/jquery/jquery.js"></script></p>
<p><script type="text/javascript"><br>$(document).ready(function(){<br>  $(“button”).click(function(){<br>    $(“li”).each(function(){<br>      alert($(this).text())<br>    });<br>  });<br>});<br></script><br></p>
<p><body></body></p>
<p><button>输出每个列表项的值</button></p>
<p><ul></ul></p>
<p><li>Coffee</li></p>
<p><li>Milk</li></p>
<p><li>Soda</li><br><br><br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">依次弹出Coffee，Milk，Soda</div><div class="line">#### 3.each和map的比较</div><div class="line">each方法：</div><div class="line"></div><div class="line">定义一个空数组，通过each方法，往数组添加ID值；最后将数组转换成字符串后，alert这个值；</div></pre></td></tr></table></figure></p>
<p>$(function(){<br>    var arr = [];<br>    $(“:checkbox”).each(function(index){<br>        arr.push(this.id);<br>    });<br>    var str = arr.join(“,”);<br>    alert(str);<br>})</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">map方法:</div><div class="line"></div><div class="line">将每个:checkbox执行return this.id；并将这些返回值，自动的保存为jQuery对象，然后用get方法将其转换成原生Javascript数组，再使用join方法转换成字符串，最后alert这个值；</div></pre></td></tr></table></figure>
<p>$(function(){<br>    var str = $(“:checkbox”).map(function() {<br>        return this.id;<br>    }).get().join();<br>    alert(str);<br>})</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">当有需一个数组的值的时候，用map方法，很方便。</div><div class="line"></div><div class="line">####  4.jquery中使用each</div><div class="line">例遍数组，同时使用元素索引和内容。（i是索引，n是内容）</div></pre></td></tr></table></figure>
<p>$.each( [0,1,2], function(i, n){<br>alert( “Item #” + i + “: “ + n );<br>}); </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">例遍对象，同时使用成员名称和变量内容。（i是成员名称，n是变量内容）</div></pre></td></tr></table></figure>
<p>$.each( { name: “John”, lang: “JS” }, function(i, n){<br>alert( “Name: “ + i + “, Value: “ + n );<br>}); </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">例遍dom元素，此处以一个input表单元素作为例子。 </div><div class="line">如果你dom中有一段这样的代码 </div><div class="line">&lt;input name=&quot;aaa&quot; type=&quot;hidden&quot; value=&quot;111&quot; /&gt; </div><div class="line">&lt;input name=&quot;bbb&quot; type=&quot;hidden&quot; value=&quot;222&quot; /&gt; </div><div class="line">&lt;input name=&quot;ccc&quot; type=&quot;hidden&quot; value=&quot;333&quot; /&gt; </div><div class="line">&lt;input name=&quot;ddd&quot; type=&quot;hidden&quot; value=&quot;444&quot;/&gt; </div><div class="line">然后你使用each如下</div></pre></td></tr></table></figure>
<p>$.each($(“input:hidden”), function(i,val){<br>alert(val); //输出[object HTMLInputElement]，因为它是一个表单元素。<br>alert(i); //输出索引为0，1，2，3<br>alert(val.name); //输出name的值<br>alert(val.value); //输出value的值<br>}); </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#### 5.each中根据this查找元素</div></pre></td></tr></table></figure>
<p><ol class="commentlist"><br>    <li class="comment"><br>        <div class="comment-body"><br>          <p>嗨，第一层评论</p><br>          <div class="reply"><br>            <a href="#" class=".comment-reply-link">回复</a><br>          </div><br>        </div><br>        <ul class="children"><br>          <li class="comment"><br>            <div class="comment-body"><br>            <p>第二层评论</p><br>            <div class="reply"><br>              <a href="#" class=".comment-reply-link">回复</a><br>            </div><br>          </div></li><br>        </ul><br>    </li><br></ol><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">js代码</div></pre></td></tr></table></figure></p>
<p>$(“div.reply”).hover(function(){<br>  $(this).find(“.comment-reply-link”).show();<br>},function(){<br>  $(this).find(“.comment-reply-link”).hide();<br>});<br>```</p>
<h4 id="6-官方解释"><a href="#6-官方解释" class="headerlink" title="6.官方解释"></a>6.官方解释</h4><p>jQuery.each(object, [callback]) </p>
<p>概述<br>通用例遍方法，可用于例遍对象和数组。 </p>
<p>不同于例遍 jQuery 对象的 $().each() 方法，此方法可用于例遍任何对象。回调函数拥有两个参数：第一个为对象的成员或数组的索引，第二个为对应变量或内容。如果需要退出 each 循环可使回调函数返回 false，其它返回值将被忽略。 </p>
<p>参数<br>objectObject<br>需要例遍的对象或数组。 </p>
<p>callback (可选)Function<br>每个成员/元素执行的回调函数。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/28/each/" data-id="cizp6ks0s0000gwuotdhmvo4u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/02/28/jQuery_ajax/">$.ajax()方法详解</a>
          </li>
        
          <li>
            <a href="/2017/02/28/vue/">轻型MVVM框架Vue.js</a>
          </li>
        
          <li>
            <a href="/2017/02/28/reg/">这20个正则表达式，让你少写1000行代码</a>
          </li>
        
          <li>
            <a href="/2017/02/28/react/">React基础</a>
          </li>
        
          <li>
            <a href="/2017/02/28/first/">Hexo博客搭建教程</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 宋翠平<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>